<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico"/>
    <title>框架集成 jetbrick-template</title>

    <link href="../static/css/application.css" rel="stylesheet" type="text/css"/>

    <!--[if lt IE 9]>
    <script src="../static/js/html5shiv.js"></script><![endif]-->
    <script type="text/javascript" src="../static/js/application.js"></script>
</head>

<body>
<a href="https://github.com/subchen/jetbrick-template/">
    <img src="../static/images/forkme_right_orange.png" alt="Fork me on GitHub" class="fork-me-on-github">
</a>
<img src="../static/images/top.png" title="回到顶部" api="scroll-to-top" />

<div class="jb-topbar">
    <div class="container">
        <img src="../static/images/logo-mini.png"/>
        <!--
        <ul class="menubar">
            <li><a href="">commons</a></li>
            <li><a href="">webmvc</a></li>
            <li><a href="">template</a></li>
            <li><a href="">orm</a></li>
            <li><a href="">widget</a></li>
            <li><a href="">javadoc-chm</a></li>
        </ul>
        -->
    </div>
</div>

<div class="container">
    <div class="jb-banner">
        <img src="../static/images/jetbrick-template-logo.png"/>
        <ul class="description">
            <li>1. 全新一代 Java 模板引擎</li>
            <li>2. 具有高性能、高扩展性</li>
            <li>3. 完美替代 JSP, Velocity 等引擎模板</li>
        </ul>
        <a href="download/jetbrick-template-1.0.0.zip" class="download-button">
            <img src="../static/images/download.png"/>
            <span>jetbrick-template-1.0.0.zip<br/>2013-11-18</span>
        </a>
    </div>
</div>

<div class="container">
    <div class="jb-section">
        <ul class="tabs">
            <li><a href="overview.html">简介</a</li>
            <li><a href="download.html">下载</a</li>
            <li><a href="userguide.html">开发指南</a</li>
            <li><a href="config.html">配置指南</a</li>
            <li><a href="syntax.html">语法指南</a</li>
            <li><a href="integrate.html" class="selected">框架集成</a</li>
            <!--
            <li><a href="example.html">例子</a</li>
            -->
            <li><a href="faq.html">FAQ</a</li>
        </ul>
    </div>
</div>

<div class="container">
    <div class="announcement">
        <a href="download.html#version">2013-11-18：jetbrick-template-1.0.0 版本已发布，欢迎使用和反馈。</a>
    </div>
</div>

<div class="container">
    <div class="markdown">

<!-- markdown body begin -->
<h1>Servlet</h1><p>jetbrick-template 可以直接作为 Servlet 使用。需要在 web.xml 中作如下配置。</p>
<script type="syntaxhighlighter" class="brush: xml"><![CDATA[
<servlet>
  <servlet-name>jetbrick-template</servlet-name>
  <servlet-class>jetbrick.template.web.servlet.JetTemplateServlet</servlet-class>
  <init-param>
    <param-name>config</param-name>
    <param-value>/WEB-INF/jetbrick-template.properties</param-value>
  </init-param>
  <load-on-startup>1</load-on-startup>
</servlet>
<servlet-mapping>
  <servlet-name>jetbrick-template</servlet-name>
  <url-pattern>*.jetx</url-pattern>
</servlet-mapping>
]]></script><p><strong>注意</strong>：如果不设置 <code>config</code> 参数，那么默认从 classpath 根目录下面查找 <code>jetbrick-template.properties</code>。</p><h1>jetbrick webmvc</h1><p>jetbrick webmvc 自身已经集成了 jetbrick-template。请参考 jetbrick webmvc 自身的开发文档。</p><h1>Struts 2.x</h1><p>jetbrick-template 可以和 Struts 2.x 进行集成。</p><p>首先需要对 Struts 进行如下配置（<code>struts.xml</code>），这个配置是告诉 Struts 使用 <code>jetbrick.template.web.struts.JetTemplateResult</code> 这个类来处理采用 jetbrick-template 格式的模板：</p>
<script type="syntaxhighlighter" class="brush: xml"><![CDATA[
<result-types>
  <result-type name="jetx" class="jetbrick.template.web.struts.JetTemplateResult" />
</result-types>
]]></script><p>接下来配置你的 action 如下：</p>
<script type="syntaxhighlighter" class="brush: xml"><![CDATA[
<action name="index">
  <result type="jetx">/index.jetx</result>
</action>
]]></script><p>现在可以测试我们的模板了，打开浏览器访问 <a href="http://127.0.0.1:8080/index.do">http://127.0.0.1:8080/index.do</a> 看看效果吧。</p><p><strong>注意</strong>：jetbrick-template 默认从 classpath 根目录下面查找 <code>jetbrick-template.properties</code>。如果需要自定义参数，请新建一个 <code>JetTemplateResult</code> 的子类，实现对应的方法即可。</p><h1>Spring MVC</h1><p>jetbrick-template 可以和 Spring MVC 进行集成。</p><p>配置方式如下：</p>
<script type="syntaxhighlighter" class="brush: xml"><![CDATA[
<bean id="viewResolver" class="jetbrick.template.web.springmvc.JetTemplateViewResolver">
  <property name="prefix" value="/WEB-INF/jetx/"/>
  <property name="suffix" value=".jetx"/>
</bean>
]]></script>
<!-- markdown body end -->

    </div>
</div>

<div class="container">
    <div class="jb-footer">
        Copyright 2011-2013 Guoqiang Chen<br/>subchen&#64;gmail.com
    </div>
</div>

</body>
</html>
